#!/usr/bin/env bash
set -eux

if command -v brew >/dev/null 2>&1; then
  if command -v pyenv >/dev/null 2>&1; then
    export PATH=${PATH//$(pyenv root)\/shims:/}
  fi
  brew update
  brew upgrade --ignore-pinned
  brew cleanup -s
  brew doctor
fi

if command -v miv >/dev/null 2>&1; then
  miv update
fi

if command -v rustup >/dev/null 2>&1; then
  rustup update stable
fi

if command -v stack >/dev/null 2>&1; then
  stack update
  stack upgrade
  stack clean
fi
